<!doctype html>
<html>
  <head>
    <title>Autocomplete adventures</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script src="https://find.internet4000.com/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/accessible-autocomplete@2.0.3/dist/accessible-autocomplete.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/accessible-autocomplete@2.0.3/dist/accessible-autocomplete.min.css">
    <script src="https://cdn.jsdelivr.net/npm/fuzzysort@1.1.1/fuzzysort.min.js"></script> 
    
    <link rel="stylesheet" href="/styles.css">
    <script src="/script.js" defer></script>
  </head>
  <body>
    
    <auto-complete modal id="r4"></auto-complete>
    
    <p>Press cmd/ctrl+k to open the command menu or <button onclick="hello()">tap here</button></p>
    <p>Type a command or search. ↑↓ to browse, ↵ to select, ESC to dismiss.</p>
    <p style="margin-top: 2em; border: 2px dotted blue">You selected: <b id="my-autocomplete-confirmed"></b></p>
    
    <script>
      const radio4000Commands = [
        {keys: '', label: 'Help', command: () => { confirm('send help plx') }},
        {keys: 'p', label: 'Play/pause the session'},
        {keys: 'n', label: 'Play next track in current radio'},
        {keys: 's', label: 'Shuffle current track selection'},
        {keys: 'm', label: '(un)mute the volume'},
        {keys: 'r', label: 'Play a random radio channel'},
        {keys: 'f', label: 'Cycle through formats (default, fullscreen, minimized)'},
        {keys: 'g h', label: 'Go to home'},
        {keys: 'g r', label: 'Go to all radios'},
        {keys: 'g m', label: 'Go to map'},
        {keys: 'g y', label: 'Go to history (y, as in your web-browser)'},
        {keys: 'g i', label: 'Go to my radio (i, as in I, me)'},
        {keys: 'g s', label: 'Go to my favorite radios (s, as in starred)'},
        {keys: 'g t', label: 'Go to my tracks'},
        {keys: 'g a', label: 'Go to add'},
        {keys: 'g f', label: 'Go to feedback'},
        {keys: 'g c', label: 'Go to current radio (the one being played)'},
        {keys: 'g x', label: 'Go to the track being played (x, as in a cross to locate the track/trax)'}
      ]
      var element = document.querySelector('auto-complete#r4')
      console.log(element)
      element.list = radio4000Commands
      element.enable()
      function hello() {
        element.classList.toggle('is-open')
      }
    </script>
    
  </body>
</html>
